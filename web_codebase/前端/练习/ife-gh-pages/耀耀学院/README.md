![课程配图](https://gss0.baidu.com/9rkZbzqaKgQUohGko9WTAnF6hhy/mms-res/fed/ife/ife_tutor/zonghe.7ec42bde1c5ae76c.jpg)

# 课程介绍
基础任务有三大块七个小任务，进阶可选则是做一个Nodejs爬虫和德州扑克的在线小游戏，比起斌斌学院难度略有提升没有那么简单的直来直去，任务效果很容易实现，但是我认为更多的是考验如何优雅的实现任务，能否在更改需求后快速的修改实现（甚至不用修改代码更改配置就可以实现）。
引用课程中的一段话：

> 课程多数题目的解决方案都不是唯一的，这和我们在实际工作中的情况也是一致的。因此，我们的要求不仅仅是实现设计稿的效果，更是要多去思考不同的解决方案，评估不同方案的优劣，然后使用在该场景下最优雅的方式去实现。那些最终没有被我们采纳的方案，同样也可以帮助我们学到很多知识。所以，我们列出的参考资料未必是实现需求所必须的。有的时候，实现题目的要求很简单，甚至参考资料里就有，但是背后的思考和亲手去实践却是任务最关键的一部分。在学习这些资料时，要多思考，多提问，多质疑。相信通过和小伙伴们的交流，能让你的学习事半功倍。

源码:[GitHUb](https://github.com/xluos/ife/tree/gh-pages/%E8%80%80%E8%80%80%E5%AD%A6%E9%99%A2)
# 任务介绍
## 任务一：表单（一）单个表单项的检验
### 任务效果（[传送门](http://ife.baidu.com/course/detail/id/97)|[Demo](https://xluos.github.io/ife/%E8%80%80%E8%80%80%E5%AD%A6%E9%99%A2/3-1.html)）
![3-1.png](http://www.xluos.com/usr/uploads/2018/04/3404948412.png)
### 知识点
+ 如何判断中文，我是根据charCodeAt函数获得Unicode码值，如果大于255说明是双字节的额外加一个。（256以内的按位`&`0xff00都会变成0）
### 主体思路
表单验证，样式什么的就不说了，最主要还是功能。因为要实现中文按照双字节来算，就需要自己算了可以用正则，也可以判断Unicode码。另外将提示和错误独立出来复用。但是代码和HTML结构耦合太高了。

## 任务二：表单（二）多个表单项的动态校验
### 任务效果（[传送门](http://ife.baidu.com/course/detail/id/101)|[Demo](https://xluos.github.io/ife/%E8%80%80%E8%80%80%E5%AD%A6%E9%99%A2/3-2.html)）

![](http://www.xluos.com/usr/uploads/2018/04/4220304814.png)
### 知识点
+ 利用事件委托
+ 自定义属性实现表单类型判断
### 主体思路
这个任务就是第一个的升级版，想要实现并不难绑定一堆判断事件就好了。但是！**那样一点儿都不优雅**，难道以后表单更多了我就要挨个写验证绑定？最后决定自己造个螺丝钉（因为算不上轮子）。利用事件委托来一次性绑定所有的input框，自定义属性标识输入框需要验证的类型。获取焦点时根据相应的类型调用判定的方法。省时省力，哪怕以后再加上更多的输入框代码也不需要更改。如果新增了判断类型只需要增加一个类型的判断函数就可以了。提示信息和错误信息实现配置化。目前看来这是我能实现的比较优雅的方式了，但是还是和页面的耦合程度比较高，提示信息需要依赖特定的html结构才能显示。

## 任务三：表单（三）联动
### 任务效果（[传送门](http://ife.baidu.com/course/detail/id/106)|[Demo](https://xluos.github.io/ife/%E8%80%80%E8%80%80%E5%AD%A6%E9%99%A2/3-3.html)）

![](http://www.xluos.com/usr/uploads/2018/04/1609503412.png)
### 知识点
+ select的options属性，下拉列表中option选项的集合
+ Option()构造函数，用来创建一个option对象
+ select的add()方法
+ [参考](https://www.cnblogs.com/melbourne1102/p/6546968.html)
### 主体思路
什么是表单联动？其实就是后面的表单会根据之前选择的选项的不同而变化。第一栏是否在校那个很容易，根据选项来显示相应的块。但是后面的就要来动态生成了，通过第一个地区的`change`事件，来动态生成学校的select下拉列表。主要就是运用`select的add()`方法和`Option()`构造函数可以比较方便的实现效果。另外将需要生成的内容独立出来成为配置，方便修改。

## 任务四：听指令的小方块（一）
### 任务效果（[传送门](http://ife.baidu.com/course/detail/id/109)|[Demo](https://xluos.github.io/ife/%E8%80%80%E8%80%80%E5%AD%A6%E9%99%A2/3-4.html)）

![](http://www.xluos.com/usr/uploads/2018/04/2221437487.png)
### 知识点
+ `getBoundingClientRect()`函数来获取位置
+ 函数防抖和函数节流（非必要）
### 主体思路
很显然，这个页面是由棋盘和方块两部分组成，棋盘是固定的所以随便用表格拼一下，或者放张图都行。方块既然能动那肯定就要用到绝对定位了。我是刚开始写的方块是根据页面来定位的，显然这不是一个好方法因为涉及到页面大小变化需要重新计算位置。后来看过别人的实现发现，更合理的应该是将方块放在表格中，根据表格位置来定位，这样就不需要管页面是如何变化的了。说完定位就是方块类的实现了，首先因为每次都是移动一格，所以要存下相对于第一格的偏移量`X，Y`，另外因为有`GO命令`所以还要存下当前面对的方向，以及四个方向相应的移动方法（这个我用坐标的偏移来实现）。最后就是使用CSS3的`transform：rotate()`来实现旋转。方向用四个方向按照顺时针用0-3来表示。那么左转和右转分别就是-1和+1。

## 任务五：听指令的小方块（二）
### 任务效果（[传送门](http://ife.baidu.com/course/detail/id/112)|[Demo](https://xluos.github.io/ife/%E8%80%80%E8%80%80%E5%AD%A6%E9%99%A2/3-5.html)）

![](http://www.xluos.com/usr/uploads/2018/04/1087407276.png)
### 知识点
+ 无
### 主体思路
因为方块的基本方法在上一个任务中都已经实现过了，所以这个任务添加的新的指令也只是在前一个的基础上进行组合就完成了。所以在上一个任务的基础上稍加改造这个就完成了。运动效果的话利用CSS3中的`transition`属性轻松实现。

## 任务六：UI组件之浮出层
### 任务效果（[传送门](http://ife.baidu.com/course/detail/id/115)|[Demo](https://xluos.github.io/ife/%E8%80%80%E8%80%80%E5%AD%A6%E9%99%A2/3-6.html)）

![](http://www.xluos.com/usr/uploads/2018/04/4259285280.png)
### 知识点
+ 阻止事件冒泡
### 主体思路
一个遮罩层，一个显示面板。点击按钮设置为显示，点击取消等设置关闭都很容易。但是点击遮罩层关闭这点儿碰到了坑，因为事件绑定在遮罩层是面板的父元素所以在点击面板的时候也会关闭所以就要阻止事件冒泡或者判断触发点击事件的到底是那个元素。弹出层（模态框）是一个很常见的组件，既然要做一个组件就要有通用性，在这点儿我做的还是不够好，可拖动调整大小等效果也偷懒没实现。。

## 任务七：UI组件之排序表格
### 任务效果（[传送门](http://ife.baidu.com/course/detail/id/118)|[Demo](https://xluos.github.io/ife/%E8%80%80%E8%80%80%E5%AD%A6%E9%99%A2/3-7.html)）

![](http://www.xluos.com/usr/uploads/2018/04/933512423.png)
### 知识点
+ 无新知识
### 主体思路
刚看到这个任务直接就上手开写了，后来看到任务要求全部推翻重来。因为这是要开发一个组件，一定要可复用。所以很多东西都不能写死表格一定要是根据配置生成的，而不单单是一个能排序的表格。
> 任务要求：
> + 提供生成表格的接口，表格中的数据，表格样式尽量低耦合
> + 可以配置对哪些列支持排序功能，并在表头进行排序按钮的显示，图中的样式为示意参考，可自行设定样式及交互方式
> + 提供点击排序按钮后的响应接口，并提供默认的排序方法，当提供的接口没有具体实现时，按默认的排序方法进行排序操作，并更新表格中的数据显示。

所以就照着任务要求一条条来，最终实现了一个生成表格的对象，可以根据配置设置那一列显示排序按钮，按钮是否可用，根据数据来生成表格。这个算是几个任务里面自认为实现的比较完整的。具体的实现不容易说清，看代码更好代码中注释写的很多。不优雅的地方在于因为按钮利用事件委托实现，触发的时候回调函数需要单独写，这一点暂时没有想到更好的方法。